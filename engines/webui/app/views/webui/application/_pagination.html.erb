<%
extra_pages = 2
current_page = locals[:current_page]
max_pages = locals[:max_pages]

page_start = [1, current_page-extra_pages].max

page_end = [page_start + 2*extra_pages, max_pages].min
%>

<% if current_page > 1 %>
	<%= link_to '⏮️', url_for(page: 1) %>
<% else %>
	⏮️
<% end %>

<% if current_page > 1 %>
	<%= link_to '◀️', url_for(page: current_page-1) %>
<% else %>
	◀️
<% end %>

<% (page_start..page_end).each do |page| %>
	<% if page == current_page %>
		<strong><%= page %></strong>
	<% else %>
		<%= link_to page, url_for(page: page) %>
	<% end %>
<% end %>

<% if current_page < max_pages %>
	<%= link_to '▶️', url_for(page: current_page+1) %>
<% else %>
	▶️
<% end %>

<% if current_page < max_pages %>
	<%= link_to '⏭️', url_for(page: max_pages) %>
<% else %>
	⏭️
<% end %>
